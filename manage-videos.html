<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciar Vídeos - ParaTube Studio</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <button class="menu-btn" id="menuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <a href="index.html" class="logo">
                <i class="fas fa-play-circle"></i>
                <span>ParaTube Studio</span>
            </a>
        </div>
        
        <div class="header-right">
            <button class="theme-toggle" id="themeToggle" title="Aparência">
                <i class="fas fa-moon"></i>
            </button>
            <div class="user-menu" id="userMenu">
                <button class="user-avatar" id="userAvatar" title="Conta">
                    <i class="fas fa-user-circle"></i>
                </button>
                <div class="dropdown-menu" id="dropdownMenu">
                    <a href="my-channel.html">
                        <i class="fas fa-user"></i> <span id="userNameDisplay">Seu canal</span>
                    </a>
                    <a href="profile.html">
                        <i class="fas fa-cog"></i> Configurações
                    </a>
                    <hr>
                    <a href="#" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="manage-videos-container">
        <div class="studio-header">
            <h1>Conteúdo do canal</h1>
            <p>Gerencie seus vídeos, shorts e outros conteúdos</p>
        </div>

        <!-- Filter Bar -->
        <div class="studio-filter-bar">
            <div class="filter-tabs">
                <button class="studio-tab active" data-filter="all">Todos</button>
                <button class="studio-tab" data-filter="videos">Vídeos</button>
                <button class="studio-tab" data-filter="shorts">Shorts</button>
                <button class="studio-tab" data-filter="private">Privados</button>
                <button class="studio-tab" data-filter="unlisted">Não listados</button>
            </div>
            <div class="search-studio">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Procurar nos vídeos do seu canal" id="studioSearch">
            </div>
        </div>

        <!-- Videos Table -->
        <div class="studio-table-container">
            <table class="studio-table">
                <thead>
                    <tr>
                        <th width="50%">Vídeo</th>
                        <th>Visibilidade</th>
                        <th>Data</th>
                        <th>Visualizações</th>
                        <th>Comentários</th>
                        <th>Curtidas</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="videosTableBody">
                    <!-- Videos will be loaded here -->
                </tbody>
            </table>
            <div id="noVideosMessage" class="no-content-studio" style="display: none;">
                <i class="fas fa-video"></i>
                <h3>Nenhum vídeo encontrado</h3>
                <p>Publique vídeos para gerenciá-los aqui</p>
            </div>
        </div>
    </main>

    <!-- Edit Video Modal -->
    <div class="modal" id="editVideoModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Editar vídeo</h2>
                <button class="close-modal" id="closeEditModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editVideoId">
                
                <div class="form-group">
                    <label>Título</label>
                    <input type="text" id="editVideoTitle" maxlength="100" class="form-input">
                </div>
                
                <div class="form-group">
                    <label>Descrição</label>
                    <textarea id="editVideoDescription" rows="5" maxlength="5000" class="form-input"></textarea>
                </div>
                
                <div class="form-group">
                    <label>Visibilidade</label>
                    <select id="editVideoVisibility" class="form-input">
                        <option value="public">Público</option>
                        <option value="unlisted">Não listado</option>
                        <option value="private">Privado</option>
                    </select>
                    <small>Público: Todos podem ver | Não listado: Apenas com link | Privado: Apenas você</small>
                </div>
                
                <div class="form-group">
                    <label>Miniatura</label>
                    <input type="file" id="editVideoThumbnail" accept="image/*" class="form-input">
                    <div id="thumbnailPreview" style="margin-top: 12px;"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelEdit">Cancelar</button>
                <button class="btn-primary" id="saveVideoChanges">
                    <i class="fas fa-save"></i> Salvar alterações
                </button>
            </div>
        </div>
    </div>

    <!-- Insights Modal -->
    <div class="modal" id="insightsModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Análises do vídeo</h2>
                <button class="close-modal" id="closeInsightsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="insights-container">
                    <div class="insight-card">
                        <div class="insight-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="insight-data">
                            <h3 id="insightViews">0</h3>
                            <p>Visualizações</p>
                        </div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-icon">
                            <i class="fas fa-thumbs-up"></i>
                        </div>
                        <div class="insight-data">
                            <h3 id="insightLikes">0</h3>
                            <p>Curtidas</p>
                        </div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-icon">
                            <i class="fas fa-thumbs-down"></i>
                        </div>
                        <div class="insight-data">
                            <h3 id="insightDislikes">0</h3>
                            <p>Não curtiu</p>
                        </div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <div class="insight-data">
                            <h3 id="insightComments">0</h3>
                            <p>Comentários</p>
                        </div>
                    </div>
                </div>
                <div class="insights-chart">
                    <h3>Visualizações nos últimos 7 dias</h3>
                    <div id="viewsChart" class="chart-placeholder">
                        <p style="text-align: center; color: var(--text-secondary); padding: 40px;">
                            Dados em breve...
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="deleteModal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>Excluir vídeo permanentemente?</h2>
                <button class="close-modal" id="closeDeleteModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Esta ação não pode ser desfeita. O vídeo será permanentemente removido do seu canal.</p>
                <input type="hidden" id="deleteVideoId">
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelDelete">Cancelar</button>
                <button class="btn-danger" id="confirmDelete">
                    <i class="fas fa-trash"></i> Excluir permanentemente
                </button>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/manage-videos.js"></script>
</body>
</html>
