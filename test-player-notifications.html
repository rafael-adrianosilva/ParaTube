<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - Player e Notificações</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header class="header">
        <div class="header-left">
            <button class="menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo">
                <i class="fas fa-play-circle"></i>
                <span>TubePro</span>
            </div>
        </div>

        <div class="header-center">
            <div class="search-container">
                <input type="text" placeholder="Pesquisar">
                <button class="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <div class="header-right">
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="upload-btn" onclick="window.location.href='manage-videos.html'">
                <i class="fas fa-video"></i>
            </button>
            <button class="notifications-btn" id="notificationsBtn">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
            </button>
            <div class="user-menu">
                <img src="assets/default-avatar.png" alt="Avatar" class="user-avatar" id="userAvatar">
            </div>
        </div>
    </header>

    <main class="main-content" style="margin-top: 80px; padding: 20px;">
        <h1>Teste de Features</h1>
        
        <section style="margin-bottom: 40px;">
            <h2>1. Teste do Player Customizado (YouTube Style)</h2>
            <p>O player abaixo deve ter controles personalizados estilo YouTube. Clique para testar:</p>
            <ul>
                <li>✅ Botões de play/pause customizados</li>
                <li>✅ Barra de progresso com preview de tempo</li>
                <li>✅ Controles de volume com slider</li>
                <li>✅ Botão de velocidade com menu</li>
                <li>✅ Botão de tela cheia</li>
                <li>✅ Botão de modo teatro</li>
                <li>✅ Todos os atalhos de teclado funcionando</li>
            </ul>
            
            <div class="video-player" style="max-width: 800px; margin: 20px 0;">
                <video id="videoPlayer">
                    <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
                    Seu navegador não suporta a reprodução de vídeos.
                </video>
            </div>
            
            <div style="background: #f0f0f0; padding: 15px; border-radius: 8px; margin-top: 20px;">
                <h3>Atalhos de Teclado:</h3>
                <p><strong>K</strong> ou <strong>Space</strong> - Play/Pause</p>
                <p><strong>← →</strong> - Voltar/Avançar 5s</p>
                <p><strong>↑ ↓</strong> - Volume</p>
                <p><strong>M</strong> - Mudo</p>
                <p><strong>F</strong> - Tela cheia</p>
                <p><strong>T</strong> - Modo teatro</p>
                <p><strong>0-9</strong> - Pular para % do vídeo</p>
            </div>
        </section>

        <section>
            <h2>2. Teste do Dropdown de Notificações</h2>
            <p>Clique no ícone do sino no cabeçalho (canto superior direito) para testar o dropdown de notificações.</p>
            <p><strong>Nota:</strong> Você precisa estar logado para ver as notificações reais. Caso não esteja logado, verá uma mensagem.</p>
            
            <div style="background: #f0f0f0; padding: 15px; border-radius: 8px; margin-top: 20px;">
                <h3>Para testar com login:</h3>
                <ol>
                    <li>Vá para <a href="login.html">login.html</a></li>
                    <li>Faça login com suas credenciais</li>
                    <li>Volte para esta página</li>
                    <li>Clique no sino - o dropdown deve aparecer com suas notificações</li>
                </ol>
            </div>
        </section>

        <section style="margin-top: 40px;">
            <h2>Debug Console</h2>
            <p>Abra o Console do navegador (F12 → Console) para ver os logs de debug:</p>
            <ul>
                <li>"Toggling notification dropdown..." - Quando clicar no sino</li>
                <li>"Creating notification dropdown..." - Na primeira vez que abrir</li>
                <li>"Dropdown positioned at: ..." - Posicionamento do dropdown</li>
                <li>"Dropdown show class: true/false" - Estado do dropdown</li>
                <li>Erros de inicialização do player customizado (se houver)</li>
            </ul>
        </section>
    </main>

    <script src="js/main.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/custom-player.js"></script>
    
    <script>
        // Simular localStorage para teste
        console.log('=== TESTE DE NOTIFICAÇÕES ===');
        console.log('User ID no localStorage:', localStorage.getItem('userId'));
        
        // Se quiser testar sem login, descomente a linha abaixo:
        // localStorage.setItem('userId', '1');
        
        console.log('=== TESTE DO PLAYER ===');
        console.log('Video element found:', document.getElementById('videoPlayer') ? 'Yes' : 'No');
    </script>
</body>
</html>
